/* =========================================================
   SinlessCSB — Global UI Theme (Foundry "everything")
   Driven by: html[data-sinless-theme="crimson|purple"]
   ========================================================= */

/* -----------------------------
   Palette variables per theme
   ----------------------------- */

/* CRIMSON */
html[data-sinless-theme="crimson"] {
  --sl-ui-bg: #0b0c0f;
  --sl-ui-surface-1: #101218;
  --sl-ui-surface-2: #151824;
  --sl-ui-surface-3: #1a1f2e;

  --sl-ui-text-0: #f2f3f5;
  --sl-ui-text-1: rgba(242,243,245,0.86);
  --sl-ui-text-2: rgba(242,243,245,0.70);

  --sl-ui-border: rgba(242,243,245,0.12);
  --sl-ui-border-strong: rgba(242,243,245,0.18);

  --sl-ui-accent: #55101e;
  --sl-ui-accent-2: #ff3b4a;
  --sl-ui-accent-soft: rgba(85,16,30,0.18);

  --sl-ui-shadow: 0 10px 22px rgba(0,0,0,0.55);

  /* Chat card accent (titles) */
  --sl-ui-neon-aqua: #00f5ff;
  --sl-ui-pop-bg: rgba(10, 12, 18, 0.96);
}

/* PURPLE (SR6-inspired) */
html[data-sinless-theme="purple"] {
  --sl-ui-bg: #0b0c0f;
  --sl-ui-surface-1: #0f1117;
  --sl-ui-surface-2: #141826;
  --sl-ui-surface-3: #1a2032;

  --sl-ui-text-0: #f2f3f5;
  --sl-ui-text-1: rgba(242,243,245,0.86);
  --sl-ui-text-2: rgba(242,243,245,0.70);

  --sl-ui-border: rgba(242,243,245,0.14);
  --sl-ui-border-strong: rgba(242,243,245,0.20);

  /* Purple is identity; Cyan is action/focus */
  --sl-ui-accent: #960570;
  --sl-ui-accent-2: #00c8ff;
  --sl-ui-accent-soft: rgba(0,200,255,0.18);

  --sl-ui-shadow: 0 10px 22px rgba(0,0,0,0.55);

  /* Chat card accent (titles) */
  --sl-ui-neon-aqua: #00f5ff;
  --sl-ui-pop-bg: rgba(10, 12, 18, 0.96);
}

/* -----------------------------
   Font variables
   ----------------------------- */
:root {
  --sinless-font-body: "Friz Quadrata", "Signika", sans-serif;
  --sinless-font-display: var(--sinless-font-body);
  --sinless-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* -----------------------------
   Typography (global)
   ----------------------------- */
html[data-sinless-theme="crimson"] body,
html[data-sinless-theme="purple"] body {
  font-family: var(--sinless-font-body);
  color: var(--sl-ui-text-1);
}

pre,
code,
textarea,
.editor-content code,
.editor-content pre {
  font-family: var(--sinless-font-mono) !important;
}

/* Titles / headings: ensure they actually render bold face */
html[data-sinless-theme="crimson"] .window-title,
html[data-sinless-theme="purple"] .window-title,
html[data-sinless-theme="crimson"] .sheet h1,
html[data-sinless-theme="purple"] .sheet h1,
html[data-sinless-theme="crimson"] .sheet h2,
html[data-sinless-theme="purple"] .sheet h2,
html[data-sinless-theme="crimson"] .chat-message .message-header,
html[data-sinless-theme="purple"] .chat-message .message-header,
html[data-sinless-theme="crimson"] .chat-message .message-header h4,
html[data-sinless-theme="purple"] .chat-message .message-header h4 {
  font-family: var(--sinless-font-body) !important;
  font-weight: 700 !important;
}

/* -----------------------------
   Main canvas chrome
   ----------------------------- */
html[data-sinless-theme="crimson"] #interface,
html[data-sinless-theme="purple"] #interface {
  background: radial-gradient(1200px 600px at 15% 10%, rgba(255,255,255,0.06), rgba(255,255,255,0) 60%),
              linear-gradient(180deg, var(--sl-ui-surface-1), var(--sl-ui-bg));
}

/* Top-left nav + scene controls */
html[data-sinless-theme="crimson"] #navigation,
html[data-sinless-theme="purple"] #navigation,
html[data-sinless-theme="crimson"] #controls,
html[data-sinless-theme="purple"] #controls {
  color: var(--sl-ui-text-1);
}

html[data-sinless-theme="crimson"] #controls ol.control-tools > li.active {
  box-shadow: inset 0 0 0 2px var(--sl-ui-accent);
}
html[data-sinless-theme="purple"] #controls ol.control-tools > li.active {
  box-shadow: inset 0 0 0 2px var(--sl-ui-accent-2);
}

/* -----------------------------
   Sidebar (actors/items/chat/etc.)
   ----------------------------- */
html[data-sinless-theme="crimson"] #sidebar,
html[data-sinless-theme="purple"] #sidebar {
  background: linear-gradient(180deg, var(--sl-ui-surface-2), var(--sl-ui-bg));
  border-left: 1px solid var(--sl-ui-border);
  color: var(--sl-ui-text-1);
}

html[data-sinless-theme="crimson"] #sidebar-tabs,
html[data-sinless-theme="purple"] #sidebar-tabs {
  border-bottom: 1px solid var(--sl-ui-border);
}

html[data-sinless-theme="crimson"] #sidebar-tabs .item.active {
  box-shadow: inset 0 -2px 0 0 var(--sl-ui-accent);
}
html[data-sinless-theme="purple"] #sidebar-tabs .item.active {
  box-shadow: inset 0 -3px 0 0 var(--sl-ui-accent-2);
}

html[data-sinless-theme="crimson"] #sidebar a,
html[data-sinless-theme="purple"] #sidebar a {
  color: var(--sl-ui-text-1);
}

/* -----------------------------
   Windows / sheets / dialogs (global)
   ----------------------------- */
html[data-sinless-theme="crimson"] .window-app,
html[data-sinless-theme="purple"] .window-app {
  border: 1px solid var(--sl-ui-border);
  box-shadow: var(--sl-ui-shadow);
}

html[data-sinless-theme="crimson"] .window-app .window-header,
html[data-sinless-theme="purple"] .window-app .window-header {
  background: rgba(0,0,0,0.30);
  border-bottom: 1px solid var(--sl-ui-border);
  color: var(--sl-ui-text-1);
}

html[data-sinless-theme="crimson"] .window-app .window-content,
html[data-sinless-theme="purple"] .window-app .window-content {
  background: linear-gradient(180deg, var(--sl-ui-surface-1), var(--sl-ui-bg));
  color: var(--sl-ui-text-1);
}

/* Tabs inside any window */
html[data-sinless-theme="crimson"] .tabs,
html[data-sinless-theme="purple"] .tabs {
  border-bottom: 1px solid var(--sl-ui-border);
}

html[data-sinless-theme="crimson"] .tabs .item.active {
  box-shadow: inset 0 -2px 0 0 var(--sl-ui-accent);
}
html[data-sinless-theme="purple"] .tabs .item.active {
  box-shadow: inset 0 -3px 0 0 var(--sl-ui-accent-2);
}

/* -----------------------------
   Inputs / selects / textareas (global)
   ----------------------------- */
html[data-sinless-theme="crimson"] input,
html[data-sinless-theme="crimson"] select,
html[data-sinless-theme="crimson"] textarea,
html[data-sinless-theme="purple"] input,
html[data-sinless-theme="purple"] select,
html[data-sinless-theme="purple"] textarea {
  background: rgba(0,0,0,0.30);
  color: var(--sl-ui-text-0);
  border: 1px solid var(--sl-ui-border);
}

html[data-sinless-theme="crimson"] input:focus,
html[data-sinless-theme="crimson"] select:focus,
html[data-sinless-theme="crimson"] textarea:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--sl-ui-accent-soft);
  border-color: var(--sl-ui-border-strong);
}

html[data-sinless-theme="purple"] input:focus,
html[data-sinless-theme="purple"] select:focus,
html[data-sinless-theme="purple"] textarea:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--sl-ui-accent-soft), 0 0 12px rgba(0,200,255,0.25);
  border-color: var(--sl-ui-accent-2);
}

/* -----------------------------
   Buttons (global visuals)
   ----------------------------- */
html[data-sinless-theme="crimson"] button,
html[data-sinless-theme="crimson"] .button,
html[data-sinless-theme="purple"] button,
html[data-sinless-theme="purple"] .button {
  color: var(--sl-ui-text-0);
  border: 1px solid var(--sl-ui-border);
  background: rgba(0,0,0,0.25);
}

html[data-sinless-theme="crimson"] button:hover,
html[data-sinless-theme="crimson"] .button:hover,
html[data-sinless-theme="purple"] button:hover,
html[data-sinless-theme="purple"] .button:hover {
  border-color: var(--sl-ui-border-strong);
}

/* Accent “primary” buttons where Foundry uses .default */
html[data-sinless-theme="crimson"] button.default {
  border-color: var(--sl-ui-accent);
  box-shadow: 0 0 0 1px rgba(0,0,0,0.25), inset 0 -2px 0 0 var(--sl-ui-accent);
}
html[data-sinless-theme="purple"] button.default {
  border-color: var(--sl-ui-accent-2);
  box-shadow: inset 0 -2px 0 0 var(--sl-ui-accent-2), 0 0 10px rgba(0,200,255,0.25);
}
html[data-sinless-theme="purple"] button.default:hover {
  filter: brightness(1.08);
  box-shadow: inset 0 -2px 0 0 var(--sl-ui-accent-2), 0 0 16px rgba(0,200,255,0.35);
}

/* Links (global) */
html[data-sinless-theme="crimson"] a,
html[data-sinless-theme="purple"] a {
  color: var(--sl-ui-text-1);
}
html[data-sinless-theme="crimson"] a:hover,
html[data-sinless-theme="purple"] a:hover {
  color: var(--sl-ui-text-0);
}

/* -----------------------------
   Scrollbars (global)
   ----------------------------- */
html[data-sinless-theme="crimson"] *::-webkit-scrollbar,
html[data-sinless-theme="purple"] *::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

html[data-sinless-theme="crimson"] *::-webkit-scrollbar-track,
html[data-sinless-theme="purple"] *::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.05);
}

html[data-sinless-theme="crimson"] *::-webkit-scrollbar-thumb {
  background: rgba(85,16,30,0.70);
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,0.35);
}

html[data-sinless-theme="purple"] *::-webkit-scrollbar-thumb {
  background: rgba(150,5,112,0.65);
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,0.35);
}

/* =========================================================
   CHAT ROOTS (log, popout, and toast notifications)
   ========================================================= */

/* Chat log and chat popout logs */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log) :is(li.chat-message, .chat-message) {
  background-image: none !important; /* kill parchment */
  background: var(--sl-ui-pop-bg) !important;
  border: 1px solid var(--sl-ui-border) !important;
  color: var(--sl-ui-text-0) !important;
  opacity: 1 !important;
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log) :is(li.chat-message, .chat-message) .message-content {
  background: transparent !important;
  background-image: none !important;
  color: var(--sl-ui-text-0) !important;
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log) :is(li.chat-message, .chat-message) .message-header {
  border-bottom: 1px solid var(--sl-ui-border) !important;
  color: var(--sl-ui-text-0) !important;
}

/* Chat scroll background */
html[data-sinless-theme] #chat .chat-scroll {
  background: linear-gradient(180deg, var(--sl-ui-surface-2), var(--sl-ui-bg)) !important;
}

/* Remove parchment-like backgrounds from embedded roll cards too */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) :is(.dice-roll, .dice-tooltip, .dice-total) {
  background-image: none !important;
}

/* Purple hover glow on chat messages */
html[data-sinless-theme="purple"] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log) :is(li.chat-message, .chat-message):hover {
  border-color: var(--sl-ui-accent-2) !important;
  box-shadow: 0 0 0 1px rgba(0,200,255,0.25);
}

/* =========================================================
   SinlessCSB cards inside chat: neon titles + safe link styling
   IMPORTANT: scoped to chat containers so sheets never inherit.
   ========================================================= */

/* Titles inside Sinless cards in chat logs + chat-popouts */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb :is(h1, h2, h3),
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb .sl-card-title {
  color: var(--sl-ui-neon-aqua) !important;
  text-shadow: 0 0 12px rgba(0,245,255,0.25) !important;
}

/* Links inside Sinless cards in chat logs + chat-popouts */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb a {
  color: var(--sl-ui-neon-aqua) !important;
}

/* =========================================================
   Spell + Pool + Item chat card layout
   ========================================================= */

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.item-roll-card,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) :is(.message-content, .message-flavor, .dice-flavor) .sinlesscsb.pool-roll-card,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .sinlesscsb.pool-roll-card {
  display: block;
  padding: 10px 12px;
  margin: 0;

  border-radius: 10px;
  border: 1px solid var(--sl-ui-border);
  background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.32));
  box-shadow: 0 6px 16px rgba(0,0,0,0.35);

  color: var(--sl-ui-text-1);
}

/* Accent stripe (shared) */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.item-roll-card,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) :is(.message-content, .message-flavor, .dice-flavor) .sinlesscsb.pool-roll-card,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .sinlesscsb.pool-roll-card {
  border-left: 3px solid #5323b4 !important;
}

/* Title row */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-card-title {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;

  margin: 0 0 8px 0;
  padding: 0 0 8px 0;

  border-bottom: 1px solid var(--sl-ui-border);
  font-family: var(--sinless-font-display);
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-card-title h3 {
  margin: 0;
  font-size: 1.05rem;
  line-height: 1.2;
  color: var(--sl-ui-neon-aqua) !important;
  text-shadow: 0 0 12px rgba(0,245,255,0.25) !important;
}

/* Item roll card image (between title and successes) */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content :is(.sinlesscsb.item-roll-card, .sinlesscsb.spell-card) .sl-card-item-img {
  margin: 6px 0 8px 0;
  text-align: center;
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content :is(.sinlesscsb.item-roll-card, .sinlesscsb.spell-card) .sl-card-item-img img {
  width: 100px;
  height: 100px;
  display: block;
  margin: 0 auto;
  object-fit: contain;
}

html[data-sinless-theme] :is(
  #chat-log,
  #chat .chat-log,
  .chat-popout .chat-log,
  #chat-notifications,
  .chat-notifications,
  #chat-notification,
  .chat-notification
) :is(li.chat-message, .chat-message) .sinlesscsb.pool-roll-card h2 {
  color: var(--sl-ui-neon-aqua) !important;
  text-shadow: 0 0 12px rgba(0,245,255,0.25) !important;
}

/* Badge */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-badge {
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--sl-ui-border);
  background: rgba(0,0,0,0.22);
  color: var(--sl-ui-text-1);
  font-size: 0.85rem;
  white-space: nowrap;
}

/* Rows */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;

  padding: 6px 0;
  border-bottom: 1px dashed rgba(242,243,245,0.12);
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-row:last-of-type {
  border-bottom: none;
}

/* Key + value */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-key {
  color: var(--sl-ui-text-2);
  min-width: 11rem;
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-val {
  color: var(--sl-ui-text-0);
  text-align: right;
  flex: 1;
}

/* Emphasis */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card .sl-strong {
  font-weight: 700;
}

/* Details block */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card details {
  margin-top: 10px;
  border: 1px solid var(--sl-ui-border);
  border-radius: 8px;
  background: rgba(0,0,0,0.18);
  padding: 6px 8px;
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card details summary {
  cursor: pointer;
  color: var(--sl-ui-text-1);
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.item-roll-card details,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) :is(.message-content, .message-flavor, .dice-flavor) .sinlesscsb.pool-roll-card details,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .sinlesscsb.pool-roll-card details {
  margin-top: 10px;
  border: 1px solid var(--sl-ui-border);
  border-radius: 8px;
  background: rgba(0,0,0,0.18);
  padding: 6px 8px;
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.item-roll-card details summary,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) :is(.message-content, .message-flavor, .dice-flavor) .sinlesscsb.pool-roll-card details summary,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .sinlesscsb.pool-roll-card details summary {
  cursor: pointer;
  color: var(--sl-ui-text-1);
}

/* Faded magenta rule for Sinless chat cards (matches sheet highlight) */
html[data-sinless-theme] :is(
  #chat-log,
  #chat .chat-log,
  .chat-popout .chat-log,
  #chat-notifications,
  .chat-notifications,
  #chat-notification,
  .chat-notification
) :is(li.chat-message, .chat-message) .message-content .sinlesscsb .sl-card-rule {
  border: 0;
  height: 2px;
  margin: 6px 0 8px 0;
  background: linear-gradient(90deg, transparent 0%, var(--sl-ui-accent) 50%, transparent 100%);
  opacity: 0.85;
}

html[data-sinless-theme] .sinlesscsb-chat-bubble .sinlesscsb .sl-card-rule {
  border: 0;
  height: 2px;
  margin: 6px 0 8px 0;
  background: linear-gradient(90deg, transparent 0%, var(--sl-ui-accent) 50%, transparent 100%);
  opacity: 0.85;
}

/* Inline code inside card */
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.spell-card code {
  background: rgba(0,0,0,0.30);
  border: 1px solid var(--sl-ui-border);
  border-radius: 6px;
  padding: 1px 6px;
  color: var(--sl-ui-text-0);
}

html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .message-content .sinlesscsb.item-roll-card code,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) :is(.message-content, .message-flavor, .dice-flavor) .sinlesscsb.pool-roll-card code,
html[data-sinless-theme] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message) .sinlesscsb.pool-roll-card code {
  background: rgba(0,0,0,0.30);
  border: 1px solid var(--sl-ui-border);
  border-radius: 6px;
  padding: 1px 6px;
  color: var(--sl-ui-text-0);
}

/* Accent hover glow on the card itself */
html[data-sinless-theme="purple"] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message):hover .message-content .sinlesscsb.spell-card,
html[data-sinless-theme="purple"] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message):hover .message-content .sinlesscsb.item-roll-card,
html[data-sinless-theme="purple"] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message):hover :is(.message-content, .message-flavor, .dice-flavor) .sinlesscsb.pool-roll-card,
html[data-sinless-theme="purple"] :is(#chat-log, #chat .chat-log, .chat-popout .chat-log)
  :is(li.chat-message, .chat-message):hover .sinlesscsb.pool-roll-card {
  border-color: #5323b4;
  box-shadow: 0 0 0 1px rgba(83,35,180,0.35), 0 10px 22px rgba(0,0,0,0.55);
}

/* =========================================================
   Chat bubbles (token speech/roll bubbles)
   Requires hook: chat-theme.js to add .sinlesscsb-chat-bubble
   ========================================================= */

html[data-sinless-theme] .sinlesscsb-chat-bubble {
  background-image: none !important;
  background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.32)) !important;
  border: 1px solid var(--sl-ui-border) !important;
  color: var(--sl-ui-text-0) !important;
  box-shadow: 0 6px 16px rgba(0,0,0,0.35);
}

html[data-sinless-theme] .sinlesscsb-chat-bubble .sinlesscsb :is(h1, h2, h3),
html[data-sinless-theme] .sinlesscsb-chat-bubble .sinlesscsb .sl-card-title {
  color: var(--sl-ui-neon-aqua) !important;
  text-shadow: 0 0 12px rgba(0,245,255,0.25) !important;
}

/* =========================================================
   Toast notifications (the brief popup near sidebar)
   ========================================================= */

html[data-sinless-theme] :is(#chat-notifications, .chat-notifications, #chat-notification, .chat-notification)
  :is(.chat-message, li.chat-message) {
  background-image: none !important;
  background: var(--sl-ui-pop-bg) !important;
  border: 1px solid var(--sl-ui-border) !important;
  color: var(--sl-ui-text-0) !important;
  opacity: 1 !important;
}

html[data-sinless-theme] :is(#chat-notifications, .chat-notifications, #chat-notification, .chat-notification)
  :is(.chat-message, li.chat-message) .message-content {
  color: var(--sl-ui-text-0) !important;
}

/* Neon titles within toast notifications for Sinless cards */
html[data-sinless-theme] :is(#chat-notifications, .chat-notifications, #chat-notification, .chat-notification)
  .message-content .sinlesscsb :is(h1, h2, h3),
html[data-sinless-theme] :is(#chat-notifications, .chat-notifications, #chat-notification, .chat-notification)
  .message-content .sinlesscsb .sl-card-title {
  color: var(--sl-ui-neon-aqua) !important;
  text-shadow: 0 0 12px rgba(0,245,255,0.25) !important;
}

/* =========================================================
   Sender (player) name color — theme-specific and final
   ========================================================= */

html[data-sinless-theme] :is(
  #chat-log,
  #chat .chat-log,
  .chat-popout .chat-log,
  #chat-notifications,
  .chat-notifications,
  #chat-notification,
  .chat-notification
) :is(li.chat-message, .chat-message) .message-header .message-sender {
  font-weight: 700;
}

html[data-sinless-theme="purple"] :is(
  #chat-log,
  #chat .chat-log,
  .chat-popout .chat-log,
  #chat-notifications,
  .chat-notifications,
  #chat-notification,
  .chat-notification
) :is(li.chat-message, .chat-message) .message-header .message-sender {
  color: #960570 !important;
  text-shadow: 0 0 10px rgba(255,59,212,0.25) !important;
}

html[data-sinless-theme="crimson"] :is(
  #chat-log,
  #chat .chat-log,
  .chat-popout .chat-log,
  #chat-notifications,
  .chat-notifications,
  #chat-notification,
  .chat-notification
) :is(li.chat-message, .chat-message) .message-header .message-sender {
  color: var(--sl-ui-accent-2) !important;
  text-shadow: 0 0 10px rgba(255,59,74,0.25) !important;
}

/* =========================================================
   CSB (Custom System Builder) typography fixes
   ========================================================= */

/* CSB headings used for Title/Subtitle previews */
.system-custom-system-builder h1,
.system-custom-system-builder h2,
.system-custom-system-builder h3,
.system-custom-system-builder .window-title,
.system-custom-system-builder .header-title,
.system-custom-system-builder .title {
  font-family: var(--sinless-font-body) !important;
  font-weight: 700 !important;
}

/* CSB subtitle-ish text (does not touch icons) */
.system-custom-system-builder .subtitle,
.system-custom-system-builder .sub-title,
.system-custom-system-builder .subheader,
.system-custom-system-builder .header-subtitle,
.system-custom-system-builder .hint,
.system-custom-system-builder .notes,
.system-custom-system-builder .help,
.system-custom-system-builder small {
  font-family: var(--sinless-font-body) !important;
  font-weight: 400 !important;
  font-style: italic;
}

/* Button label font (CSB + chat) */
.system-custom-system-builder button,
.system-custom-system-builder .button,
.chat-message button,
.chat-message .button {
  font-family: var(--sinless-font-body) !important;
  font-weight: 600 !important;
}

/* =========================================================
   CSB label roots (Title/Subtitle display)
   Fix: CSB forces Modesto Condensed on .custom-system-label-root
   ========================================================= */

html[data-sinless-theme] .custom-system-label-root,
html[data-sinless-theme] .custom-system-label-root * {
  font-family: var(--sinless-font-body) !important;
}

/* If you want this “subtitle” to be lighter/italic (common subtitle look) */
html[data-sinless-theme] .custom-system-label-root {
  font-weight: 400 !important;
  font-style: italic;
}

/* If there is also a “title root” you want bold, keep it bold explicitly */
html[data-sinless-theme] .custom-system-label-root.title,
html[data-sinless-theme] .custom-system-label-root.header-title,
html[data-sinless-theme] .custom-system-label-root.is-title {
  font-weight: 700 !important;
  font-style: normal !important;
}

/* =========================================================
   Item Displayer sizing (bigger rows + icons)
   ========================================================= */

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container {
  --sinless-item-row-height: 52px;
  --sinless-item-icon-size: 44px;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container table tbody tr {
  height: var(--sinless-item-row-height) !important;
  min-height: var(--sinless-item-row-height) !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container table td,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container table th {
  vertical-align: middle;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container table td {
  padding-top: 8px !important;
  padding-bottom: 8px !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(img, .item-image, .item-icon, .custom-system-item-image, .custom-system-item-icon) {
  width: var(--sinless-item-icon-size) !important;
  height: var(--sinless-item-icon-size) !important;
  object-fit: cover;
  vertical-align: middle;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item, .custom-system-item-row, .item, li) {
  min-height: var(--sinless-item-row-height) !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name) {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

/* Hide the default reference-column icon (leave text + click target intact) */
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name, td.item-name, td.item-reference) img {
  display: none !important;
}

/* Direct icon element used by CSB in item rows */
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container img.custom-system-item-container-image {
  width: 72px !important;
  height: 72px !important;
  object-fit: cover;
  padding: 1px;
  box-sizing: content-box;
  background-color: var(--sl-ui-surface-2, #151824);
  margin-right: 8px;
}

/* Fallback: apply even if theme root marker isn't present */
.custom-system .custom-system-item-container img.custom-system-item-container-image {
  width: 72px !important;
  height: 72px !important;
  object-fit: cover;
  padding: 1px;
  box-sizing: content-box;
  background-color: var(--sl-ui-surface-2, #151824);
  margin-right: 8px;
}

/* Item Displayer rows can render without .custom-system-item-container */
.custom-system .custom-system-component-contents table img.custom-system-item-container-image {
  width: 72px !important;
  height: 72px !important;
  max-width: 72px !important;
  max-height: 72px !important;
  object-fit: cover;
  padding: 1px;
  box-sizing: content-box;
  background-color: var(--sl-ui-surface-2, #151824);
  display: inline-block;
  vertical-align: middle;
  margin-right: 8px;
}

/* Remove left padding/background from Foundry content-link to prevent left "stub" */
.custom-system .custom-system-component-contents table a.content-link {
  padding-left: 0 !important;
  background-image: none !important;
}

/* Hide the leading status icon in item displayer rows (removes left stub) */
.custom-system .custom-system-component-contents table .custom-system-dynamicRow i.fa-circle-check {
  display: none !important;
}

/* Match item-name highlight to row background to remove left sliver */
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents table a.content-link,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents table a.entity-link {
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
  padding: 0 !important;
}

/* Slightly larger item names in item displayers */
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents table a.content-link,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents table a.entity-link {
  font-size: 1.125em;
}

/* Keep hidden cells from collapsing columns in item displayers */
.custom-system .custom-system-component-contents table td.custom-system-cell-hidden {
  display: table-cell !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name, td.item-name, td.item-reference) {
  background-image: none !important;
  padding-left: 0 !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name, td.item-name, td.item-reference)::before,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name, td.item-name, td.item-reference)::after {
  content: none !important;
  display: none !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name, td.item-name, td.item-reference) :is(a.entity-link, a.content-link) {
  background-image: none !important;
  padding-left: 0 !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name)::before {
  width: var(--sinless-item-icon-size);
  height: var(--sinless-item-icon-size);
  background-size: cover;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-item-container :is(.custom-system-item-reference, .item-reference, .item-name, .custom-system-item-name)[style*="background-image"] {
  background-size: var(--sinless-item-icon-size) var(--sinless-item-icon-size);
  background-repeat: no-repeat;
  background-position: left center;
  padding-left: calc(var(--sinless-item-icon-size) + 10px);
  min-height: var(--sinless-item-row-height);
}

/* =========================================================
   Sheet portraits (Actor + Item) display safety
   ========================================================= */

html[data-sinless-theme] .custom-system.sinlesscsb .sheet-header :is(.profile-img, img.profile-img, img[data-edit="img"], .profile, .custom-system-picture, .custom-system-picture img) {
  object-fit: contain;
  object-position: left bottom;
}

/* =========================================================
   Weapon card panel (rich text image display)
   ========================================================= */

html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel {
  overflow: visible;
}

html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-panel,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-panel-content,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .panel-content,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .component,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .component-content,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-component,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-textarea,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .editor-container {
  max-height: none !important;
  height: auto !important;
  overflow: visible !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .editor,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .editor-content,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .prosemirror {
  height: auto !important;
  max-height: none !important;
  min-height: 0 !important;
  overflow: visible !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-component-contents.weaponCard,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-rich-editor,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-rich-content,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel .custom-system-text-area,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel prose-mirror.editor,
html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel prose-mirror.prosemirror {
  height: auto !important;
  max-height: none !important;
  min-height: 0 !important;
  overflow: visible !important;
  display: block;
}

html[data-sinless-theme] .custom-system.sinlesscsb .weapon-card-panel img {
  max-width: 100%;
  height: auto;
  display: block;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .custom-system-rich-editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .custom-system-rich-editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .custom-system-rich-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .custom-system-rich-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .custom-system-text-area,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .custom-system-text-area,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .editor-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .editor-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .prosemirror,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .prosemirror,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard prose-mirror.editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange prose-mirror.editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard prose-mirror.prosemirror,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange prose-mirror.prosemirror {
  height: auto !important;
  max-height: none !important;
  min-height: 0 !important;
  overflow: visible !important;
  display: block;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard {
  flex: 0 0 auto;
  align-self: stretch;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange {
  flex: 0 0 auto;
  align-self: stretch;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .custom-system-rich-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .editor-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard .prosemirror,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard prose-mirror,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .custom-system-rich-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .editor,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .editor-content,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange .prosemirror,
html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange prose-mirror {
  position: static !important;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.weaponCard img {
  max-width: 100%;
  height: auto;
  display: block;
}

html[data-sinless-theme] .custom-system.sinlesscsb .custom-system-component-contents.thrownRange img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* =========================================================
   Hard Overrides (minimal, only where core wins)
   ========================================================= */

html[data-sinless-theme="crimson"] #sidebar,
html[data-sinless-theme="purple"] #sidebar {
  background: linear-gradient(180deg, var(--sl-ui-surface-2), var(--sl-ui-bg)) !important;
  border-left: 1px solid var(--sl-ui-border) !important;
  color: var(--sl-ui-text-1) !important;
}

html[data-sinless-theme="crimson"] .window-app .window-content,
html[data-sinless-theme="purple"] .window-app .window-content {
  background: linear-gradient(180deg, var(--sl-ui-surface-1), var(--sl-ui-bg)) !important;
  color: var(--sl-ui-text-1) !important;
}

/* =========================================================
   Font Awesome isolation (canonical; variable-driven; no squares)
   ========================================================= */

/* Use Foundry/FA variables when present; fall back to standard family names */
:root {
  --sinless-fa-classic: var(--fa-style-family-classic, var(--fa-style-family, "Font Awesome 6 Free"));
  --sinless-fa-brands:  var(--fa-style-family-brands, "Font Awesome 6 Brands");
  --sinless-fa-font-solid:   var(--fa-font-solid,   normal 900 1em/1 var(--sinless-fa-classic));
  --sinless-fa-font-regular: var(--fa-font-regular, normal 400 1em/1 var(--sinless-fa-classic));
  --sinless-fa-font-brands:  var(--fa-font-brands,  normal 400 1em/1 var(--sinless-fa-brands));
}

/* Normalize FA pseudo-elements so global fonts never clobber them */
.fa-solid::before, .fas::before,
.fa-regular::before, .far::before,
.fa-brands::before, .fab::before,
button.fa-solid::before, button.fas::before,
button.fa-regular::before, button.far::before,
button.fa-brands::before, button.fab::before,
a.fa-solid::before, a.fas::before,
a.fa-regular::before, a.far::before,
a.fa-brands::before, a.fab::before,
button.ui-control.icon.fa-solid::before,
button.ui-control.icon.fa-regular::before,
button.ui-control.icon.fa-brands::before,
a.ui-control.icon.fa-solid::before,
a.ui-control.icon.fa-regular::before,
a.ui-control.icon.fa-brands::before {
  font-style: normal !important;
  line-height: 1 !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Do NOT set content. Foundry/FA sets it. */
}

/* Solid */
.fa-solid::before, .fas::before,
button.fa-solid::before, button.fas::before,
a.fa-solid::before, a.fas::before,
button.ui-control.icon.fa-solid::before,
a.ui-control.icon.fa-solid::before {
  font: var(--sinless-fa-font-solid) !important;
}

/* Regular */
.fa-regular::before, .far::before,
button.fa-regular::before, button.far::before,
a.fa-regular::before, a.far::before,
button.ui-control.icon.fa-regular::before,
a.ui-control.icon.fa-regular::before {
  font: var(--sinless-fa-font-regular) !important;
}

/* Brands */
.fa-brands::before, .fab::before,
button.fa-brands::before, button.fab::before,
a.fa-brands::before, a.fab::before,
button.ui-control.icon.fa-brands::before,
a.ui-control.icon.fa-brands::before {
  font: var(--sinless-fa-font-brands) !important;
}

/* Element-based FA icons (<i>/<span>) */
.fa-solid, .fas {
  font-family: var(--sinless-fa-classic) !important;
  font-weight: 900 !important;
}
.fa-regular, .far {
  font-family: var(--sinless-fa-classic) !important;
  font-weight: 400 !important;
}
.fa-brands, .fab {
  font-family: var(--sinless-fa-brands) !important;
  font-weight: 400 !important;
}


/* Hide empty/disabled action buttons in CSB item displayers */
.wep-action-btn.wep-action-hidden {
  display: none !important;
}

/* Inline drone weapon block (PC sheet injection) */
html[data-sinless-theme] .custom-system.sinlesscsb .sinless-drone-inline {
  margin: 8px 0 14px 0;
  padding: 8px 10px;
  border: 1px solid rgba(83, 35, 180, 0.45);
  border-radius: 6px;
  background: rgba(10, 6, 24, 0.35);
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-drone-inline-details > summary {
  cursor: pointer;
  font-weight: 600;
  color: var(--sl-ui-neon-aqua);
  list-style: none;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-drone-inline-details > summary::-webkit-details-marker {
  display: none;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-drone-inline-body {
  margin-top: 6px;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-drone-weapon-row {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px;
  margin: 8px 0;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-drone-weapon-name {
  font-weight: 600;
  margin-right: 6px;
  color: #e7e2ff;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-drone-weapon-empty {
  opacity: 0.8;
  font-style: italic;
}

/* Inline hacking block (PC sheet injection) */
html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-inline {
  margin: 8px 0 14px 0;
  padding: 8px 10px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 8px;
  background: rgba(10, 10, 18, 0.35);
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-inline-details > summary {
  cursor: pointer;
  font-weight: 600;
  letter-spacing: 0.02em;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-inline-details > summary::-webkit-details-marker {
  display: none;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-inline-body {
  margin-top: 6px;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-skill-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-skill-row + .sinless-hacking-skill-row {
  margin-top: 10px;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-skill-name {
  font-weight: 600;
  margin-right: 6px;
  min-width: 140px;
}

html[data-sinless-theme] .custom-system.sinlesscsb .sinless-hacking-inline .wep-action-btn {
  line-height: 1.05;
  white-space: normal;
  padding: 8px 12px;
  text-align: center;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 42px;
}

html[data-sinless-theme] .custom-system.sinlesscsb button.wep-action-btn {
  background: rgba(83, 35, 180, 0.35);
  border: 1px solid rgba(83, 35, 180, 0.75);
  color: #e7e2ff;
  border-radius: 4px;
  padding: 4px 12px;
  font-size: 0.95em;
  line-height: 1.3;
  min-height: 28px;
  cursor: pointer;
}

html[data-sinless-theme] .custom-system.sinlesscsb button.wep-action-btn:hover {
  background: rgba(83, 35, 180, 0.6);
}
